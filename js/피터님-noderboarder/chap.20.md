#### [20. `strick mode`](#20-strick-mode-1)

#### [20.1 `strict mode`란?](#201-strict-mode란-1)

#### [20.2 `strict mode`의 적용](#202-strict-mode의-적용-1)

#### [20.3 전역에 `strict mode`를 적용하는것은 피하자](#203-전역에-strict-mode를-적용하는것은-피하자-1)

#### [20.4 함수 단위로 `strict mode`를 적용하는것도 피하자](#204-함수-단위로-strict-mode를-적용하는것도-피하자-1)

#### [20.5 `stric mode`가 발생시키는 에러](#205-stric-mode가-발생시키는-에러-1)

#### [20.5.1 암묵적 전역](#2051-암묵적-전역-1)

#### [20.5.2 변수, 함수, 매개변수의 삭제](#2052-변수-함수-매개변수의-삭제-1)

#### [20.5.3 매개변수 이름의 중복](#2053-매개변수-이름의-중복-1)

#### [20.5.4 `with`문의 사용](#2054-with문의-사용-1)

#### [20.6 `stric mode` 적용에 의한 변화](#206-stric-mode-적용에-의한-변화-1)

#### [20.6.1 일반 함수의 `this`](#2061-일반-함수의-this-1)

#### [20.6.2 `arguments` 객체](#2062-arguments-객체-1)

<hr>

## 20. `strick mode`

## 20.1 `strict mode`란?

![](img/2021-03-16-20-28-19.png)

- foo 함수 내에서 선언하지 않은 x 변수에 값 10을 할당
  1. 먼저 foo 함수의 스코프에서 x 변수의 선언을 검색
  2. 검색에 실패(Foo 함수의 스코프에는 x 변수의 선언이 없으므로)
  3. 상위 스코프(위 예제의 경우전역스코프)에서 x 변수의 선언을 검색
  4. 검색에 실패(전역스코프에는 x 변수의 선언이 없으므로)
  5. 암묵적으로 전역 객체에 x 프로퍼티를 동적 생성(오류 발생 원인 가능성이 크다.) -> 반드시 `var`, `let`, `const` 사용해서 선언해 사용하자
- ES5부터 stric mode
- `ESLint`는 `strick mode`와 유사한 효과:
  - static analysis기능을 통해 소스코드 실행전에 소스코드 스캔해서 문법적 오류뿐만 아니라 잠재적 오류와 원인까지 리포팅
  - 코딩 컨벤션을 설정 회 파일 형태로 정의하고 강제할 수

## 20.2 `strict mode`의 적용

1. 전역의 선두 또는 함수 몸체의 선두에 'use strict'; 를 추가한다.
   - 전역선두: 스크립트 전체에 적용
   - 함수 내 선두: 함수 스코프내에 적용
   - 코드 선두에 적용하지 않으면 적용되지 않는다.

## 20.3 전역에 `strict mode`를 적용하는것은 피하자

1. 스크립트 단위로 적용된 `strict mode`는 다른 스크립트에 영향을 주지 않고 해당 스크립트에 한정되어 적용된다
2. 외부 서드파티 라이브러리를 시용하는 경우 라이브러리가 non-strict mode인 경우도 있기 때문에 전역에 `strict mode`를 적용하는 것은 바람직하지 않다 -> 이러한 경우 즉시 실행 함수로 스크립트 전체를 감싸서 스코프를 구분하고 즉시 실행 **함수의 선두**에 `strict mode`를 적용한다.  
   ![](img/2021-03-16-20-26-34.png)

## 20.4 함수 단위로 `strict mode`를 적용하는것도 피하자

- `strict mode`는 즉시 실행 힘수로 감싼 스크립트 단위로 적용히는 것이 바람직하디

## 20.5 `stric mode`가 발생시키는 에러

- 다음은 `strict mode`를 적용했을 때 에러가 발생하는 대표적 사례

### 20.5.1 암묵적 전역

- 선언하지 않은 변수 참조시 `ReferenceError`가 발생  
  ![](img/2021-03-16-20-33-39.png)

### 20.5.2 변수, 함수, 매개변수의 삭제

- delete 연산자로 변수. 함수. 매개변수를 삭제하면 SyntaxError가 발생  
  ![](img/2021-03-16-20-34-57.png)

### 20.5.3 매개변수 이름의 중복

- 중복된 매개변수 이름을 사용하면 `SyntaxError` 발생
  ![](img/2021-03-16-20-36-00.png)

### 20.5.4 `with`문의 사용

- `with`문을 사용하면 `SyntaxError` 발생
- `with`문은 전달된 객체를 스코프 체인에 추가
- `with`문은 동일한 객체의 프로퍼티를 반복해서 사용할 때 객체 이름을 생략할 수 있어서 코드가 간단해 지는 효과가 있지만 성능과 가독성이 나빠진다. `with`문은 사용하지 않는게 좋다.
  ![](img/2021-03-16-20-38-55.png)

## 20.6 `stric mode` 적용에 의한 변화

### 20.6.1 일반 함수의 `this`

- 생성자 함수가 아닌 일반 함수 내부에서 `this`를 사용할 일이 없기 때문에 `strict mode`에서 함수를 일반 함수로 호출하면 `this`에 `undefined`가 바인딩 된다.  
  ![](img/2021-03-16-20-41-39.png)

### 20.6.2 `arguments` 객체

- `strict mode`에서는 매개변수에 전달된 인수를 재할당하여 변경해도 `arguments` 객체에 반영되지 않는다  
  ![](img/2021-03-16-20-43-35.png)
